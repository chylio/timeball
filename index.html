<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奇美時光扭蛋機</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .time-capsule-form {
            background:
                radial-gradient(circle at 80% 10%, rgba(161,196,253,0.30) 0%, transparent 60%),
                radial-gradient(circle at 15% 85%, rgba(224,195,252,0.30) 0%, transparent 60%),
                linear-gradient(135deg, rgba(255,255,255,0.92) 55%, rgba(100,150,255,0.22) 100%),
                url('https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=900&q=80');
            background-size: cover, cover, cover, cover;
            background-blend-mode: lighten, lighten, lighten, normal;
            border-radius: 1rem;
            box-shadow: 0 10px 32px rgba(100, 150, 255, 0.12), 0 4px 16px rgba(0,0,0,0.10);
            position: relative;
            overflow: hidden;
        }
        .time-capsule-form::before {
            content: "";
            position: absolute;
            inset: 0;
            background: 
                repeating-radial-gradient(circle at 50% 0%, rgba(100, 150, 255, 0.12) 0px, transparent 80px),
                repeating-radial-gradient(circle at 80% 80%, rgba(255,236,210,0.10) 0px, transparent 120px);
            z-index: 0;
            pointer-events: none;
        }
        .time-capsule-form::after {
            content: "";
            position: absolute;
            inset: 0;
            background: 
                linear-gradient(135deg, rgba(255,255,255,0.10) 0%, rgba(100,150,255,0.08) 100%);
            z-index: 0;
            pointer-events: none;
        }
        .time-capsule-form > * {
            position: relative;
            z-index: 1;
        }

        /* ======= 機器底座支撐設計 ======= */
        .globe-support {
            position: absolute;
            width: 40px;
            height: 48px;
            left: 50%;
            top: 260px;
            transform: translateX(-50%);
            z-index: 2;
            background: none;
        }
        .globe-support-shaft {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 16px;
            height: 38px;
            background: linear-gradient(135deg, #263d6a 80%, #a1c4fd 100%);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(100,150,255,0.12);
        }
        .globe-support-joint {
            position: absolute;
            left: 50%;
            top: -9px;
            transform: translateX(-50%);
            width: 32px;
            height: 18px;
            background: linear-gradient(135deg, #314e85 90%, #e0e7ef 100%);
            border-radius: 16px 16px 10px 10px;
            box-shadow: 0 2px 10px rgba(100,150,255,0.10);
        }
        .globe-support-shadow {
            position: absolute;
            left: 50%;
            bottom: -6px;
            transform: translateX(-50%);
            width: 28px;
            height: 10px;
            background: radial-gradient(circle at 50% 60%, rgba(100,150,255,0.10) 60%, transparent 100%);
            border-radius: 15px;
        }
        
        /* ======= 原有機器樣式 ======= */
        .gacha-machine {
            width: 300px;
            height: 450px;
            position: relative;
            margin: 0 auto;
            perspective: 1000px;
        }
        .globe-container {
            position: absolute;
            width: 240px;
            height: 240px;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            perspective: 1000px;
        }
        .globe {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(10, 20, 40, 0.7);
            box-shadow: 
                0 0 30px rgba(100, 150, 255, 0.5),
                inset 0 0 60px rgba(100, 150, 255, 0.3);
            overflow: hidden;
            transform-style: preserve-3d;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }
        .globe::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.4) 0%, 
                rgba(255, 255, 255, 0) 50%,
                rgba(255, 255, 255, 0.1) 100%);
            z-index: 5;
        }
        .globe::after {
            content: '';
            position: absolute;
            width: 90%;
            height: 90%;
            top: 5%;
            left: 5%;
            border-radius: 50%;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }
        .time-tunnel {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: 
                radial-gradient(circle at center, 
                    rgba(30, 50, 100, 0) 0%, 
                    rgba(30, 50, 100, 0.8) 50%, 
                    rgba(10, 20, 40, 1) 100%),
                conic-gradient(
                    from 0deg,
                    rgba(100, 150, 255, 0.2),
                    rgba(100, 200, 255, 0.4),
                    rgba(150, 200, 255, 0.6),
                    rgba(200, 220, 255, 0.8),
                    rgba(255, 255, 255, 1),
                    rgba(200, 220, 255, 0.8),
                    rgba(150, 200, 255, 0.6),
                    rgba(100, 200, 255, 0.4),
                    rgba(100, 150, 255, 0.2)
                );
            border-radius: 50%;
            animation: rotate-tunnel 20s linear infinite;
            z-index: 1;
        }
        @keyframes rotate-tunnel {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .time-spiral {
            position: absolute;
            width: 180%;
            height: 180%;
            top: -40%;
            left: -40%;
            background: 
                repeating-conic-gradient(
                    from 0deg,
                    transparent 0deg,
                    transparent 15deg,
                    rgba(255, 255, 255, 0.1) 15deg,
                    rgba(255, 255, 255, 0.1) 30deg
                );
            border-radius: 50%;
            animation: rotate-spiral 15s linear infinite reverse;
            z-index: 2;
        }
        @keyframes rotate-spiral {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .time-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 3;
        }
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            animation: particle-flow 8s linear infinite;
        }
        @keyframes particle-flow {
            0% { 
                transform: translate(calc(50% - 0px), calc(50% - 0px)) scale(0);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% { 
                transform: translate(calc(50% - 100px), calc(50% - 100px)) scale(1);
                opacity: 0;
            }
        }
        .globe-base {
            position: absolute;
            width: 120px;
            height: 40px;
            background: linear-gradient(to bottom, #3a4a7a, #1a2a4a);
            border-radius: 60px 60px 30px 30px;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(100, 150, 255, 0.5);
        }
        .globe-stand {
            position: absolute;
            width: 30px;
            height: 80px;
            background: linear-gradient(to bottom, #3a4a7a, #1a2a4a);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .globe-stand-base {
            position: absolute;
            width: 100px;
            height: 20px;
            background: linear-gradient(to bottom, #3a4a7a, #1a2a4a);
            border-radius: 10px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(100, 150, 255, 0.5);
        }
        .globe-ring {
            position: absolute;
            width: 260px;
            height: 40px;
            border: 8px solid #3a4a7a;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            z-index: 3;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .time-orb {
            position: absolute;
            width: 40px;
            height: 40px;
            background: white;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: all 0.5s;
            z-index: 10;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }
        .time-orb-inner {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: 
                radial-gradient(circle at center, 
                    rgba(255, 255, 255, 0.9) 0%, 
                    rgba(200, 220, 255, 0.7) 40%, 
                    rgba(100, 150, 255, 0.5) 70%,
                    rgba(50, 100, 200, 0.3) 100%);
            overflow: hidden;
        }
        .time-orb-spiral {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                conic-gradient(
                    from 0deg,
                    transparent,
                    rgba(255, 255, 255, 0.8),
                    transparent,
                    rgba(255, 255, 255, 0.8),
                    transparent
                );
            animation: rotate-orb 3s linear infinite;
        }
        @keyframes rotate-orb {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .time-orb-clock {
            position: absolute;
            width: 70%;
            height: 70%;
            top: 15%;
            left: 15%;
            border-radius: 50%;
            border: 1px solid rgba(100, 150, 255, 0.5);
        }
        .time-orb-hand {
            position: absolute;
            width: 1px;
            height: 30%;
            background: rgba(100, 150, 255, 0.8);
            top: 20%;
            left: 50%;
            transform-origin: bottom center;
            animation: rotate-hand 10s linear infinite;
        }
        @keyframes rotate-hand {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .capsule {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            opacity: 0.7;
            z-index: 5;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(10px, -10px) rotate(90deg); }
            50% { transform: translate(0, 0) rotate(180deg); }
            75% { transform: translate(-10px, 10px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        .floating {
            animation: float 12s infinite ease-in-out;
        }
        .capsule-1 { 
            background: radial-gradient(circle at center, rgba(255, 154, 158, 1) 0%, rgba(250, 208, 196, 0.7) 100%);
            top: 30%; 
            left: 30%;
        }
        .capsule-2 { 
            background: radial-gradient(circle at center, rgba(161, 196, 253, 1) 0%, rgba(194, 233, 251, 0.7) 100%);
            top: 60%; 
            left: 70%;
        }
        .capsule-3 { 
            background: radial-gradient(circle at center, rgba(212, 252, 121, 1) 0%, rgba(150, 230, 161, 0.7) 100%);
            top: 40%; 
            left: 60%;
        }
        .capsule-4 { 
            background: radial-gradient(circle at center, rgba(255, 236, 210, 1) 0%, rgba(252, 182, 159, 0.7) 100%);
            top: 70%; 
            left: 40%;
        }
        @keyframes transform-to-orb {
            0% { 
                border-radius: 0%;
                transform: translateX(-50%) scale(1) rotate(0deg);
                box-shadow: 0 0 0px rgba(255, 255, 255, 0);
            }
            50% { 
                border-radius: 25%;
                transform: translateX(-50%) scale(0.8) rotate(180deg);
                box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            }
            100% { 
                border-radius: 50%;
                transform: translateX(-50%) scale(0.6) rotate(360deg);
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
            }
        }
        @keyframes drop-into-tunnel {
            0% { 
                top: -50px; 
                opacity: 1;
                transform: translateX(-50%) scale(0.6);
            }
            50% { 
                top: 60px; 
                opacity: 1;
                transform: translateX(-50%) scale(0.8);
            }
            70% {
                top: 120px;
                opacity: 1;
                transform: translateX(-50%) scale(0.4);
            }
            100% { 
                top: 120px; 
                opacity: 0;
                transform: translateX(-50%) scale(0.1);
            }
        }
        .transform-animation {
            animation: transform-to-orb 1.5s forwards;
        }
        .drop-animation {
            animation: drop-into-tunnel 2s forwards ease-in-out;
        }
        .success-message {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            text-align: center;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
        }
        @keyframes confettiFall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .globe-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(
                circle at center,
                rgba(100, 150, 255, 0.3) 0%,
                rgba(100, 150, 255, 0) 70%
            );
            z-index: 4;
            pointer-events: none;
            animation: pulse-glow 4s infinite alternate;
        }
        @keyframes pulse-glow {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }
    </style>
</head>
<body class="py-8 px-4">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-800 mb-2">我的奇美時光扭蛋機</h1>
            <p class="text-gray-600 max-w-2xl mx-auto">
                親愛的奇美PGY醫師您好，請您寫下此刻的心情與對未來的期許<br>
                讓時光扭蛋機為您珍藏這份獨特的回憶，並在未來某一天重新與您相遇
            </p>
        </header>
        
        <div class="flex flex-col md:flex-row gap-8">
            <div class="time-capsule-form p-6 flex-1">
                <form id="timeCapsuleForm" class="space-y-6">
                    <div>
                        <label for="name" class="block text-gray-700 font-medium mb-1">您的名字</label>
                        <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    
                    <div>
                        <label for="future" class="block text-gray-700 font-medium mb-1">兩年後我想成為什麼樣的人</label>
                        <p class="text-sm text-gray-500 mb-2">可思考學業、人際、生活、個人成長等面向</p>
                        <textarea id="future" name="future" rows="5" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
                    </div>
                    
                    <div>
                        <label for="gap" class="block text-gray-700 font-medium mb-1">目前的我與期待的這個人，有多大的差距 (0-100分)</label>
                        <p class="text-sm text-gray-500 mb-2">請誠實為自己打分數，沒有對錯，只是幫助您看見進步空間。</p>
                        <input type="number" id="gap" name="gap" min="0" max="100" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    
                    <div>
                        <label for="reason" class="block text-gray-700 font-medium mb-1">為什麼會來奇美</label>
                        <textarea id="reason" name="reason" rows="3" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
                    </div>
                    
                    <div>
                        <label for="currentDate" class="block text-gray-700 font-medium mb-1">填寫日期</label>
                        <input type="date" id="currentDate" name="currentDate" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" id="submitBtn" class="px-6 py-3 bg-indigo-600 text-white font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            提交我的時光紙
                        </button>
                    </div>
                </form>
            </div>
            
            <div class="md:w-1/3">
                <div class="gacha-machine">
                    <div class="globe-container">
                        <div class="globe">
                            <div class="time-tunnel"></div>
                            <div class="time-spiral"></div>
                            <div class="time-particles" id="timeParticles"></div>
                            <div class="globe-glow"></div>
                            <div class="capsule capsule-1 floating"></div>
                            <div class="capsule capsule-2 floating" style="animation-delay: -3s;"></div>
                            <div class="capsule capsule-3 floating" style="animation-delay: -6s;"></div>
                            <div class="capsule capsule-4 floating" style="animation-delay: -9s;"></div>
                        </div>
                        <!-- 新增支撐結構 -->
                        <div class="globe-support">
                            <div class="globe-support-joint"></div>
                            <div class="globe-support-shaft"></div>
                            <div class="globe-support-shadow"></div>
                        </div>
                        <div class="globe-ring"></div>
                        <div class="time-orb" id="timeOrb">
                            <div class="time-orb-inner">
                                <div class="time-orb-spiral"></div>
                                <div class="time-orb-clock"></div>
                                <div class="time-orb-hand"></div>
                            </div>
                        </div>
                    </div>
                    <div class="globe-base"></div>
                    <div class="globe-stand"></div>
                    <div class="globe-stand-base"></div>
                </div>
                <div class="text-center mt-4 text-gray-600">
                    <p>您的時光紙將穿越時光隧道</p>
                    <p>並在未來的某一天重新與您相遇</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="success-message" id="successMessage">
        <div class="bg-white p-8 rounded-lg max-w-md text-center relative">
            <button id="closeSuccessBtn" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <h2 class="text-2xl font-bold text-gray-800 mb-2">時光紙已成功穿越！</h2>
            <p class="text-gray-600 mb-4">您的回憶已被安全地送入時光隧道，將在未來與您重逢。</p>
            <p class="text-sm text-gray-500">時光紙ID: <span id="capsuleId" class="font-mono">TM-20230901-001</span></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('currentDate').value = formattedDate;
            
            // Create time particles
            createTimeParticles();
            
            // Form submission
            document.getElementById('timeCapsuleForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate form
                const form = this;
                if (!form.checkValidity()) {
                    return;
                }
                
                // Disable submit button
                const submitBtn = document.getElementById('submitBtn');
                submitBtn.disabled = true;
                submitBtn.textContent = '提交中...';
                
                // Get form data
                const formData = {
                    name: document.getElementById('name').value,
                    future: document.getElementById('future').value,
                    gap: document.getElementById('gap').value,
                    reason: document.getElementById('reason').value,
                    currentDate: document.getElementById('currentDate').value,
                    id: generateCapsuleId()
                };
                
                // Generate random color for the orb glow
                const colors = [
                    'rgba(255, 154, 158, 0.8)',
                    'rgba(161, 196, 253, 0.8)',
                    'rgba(212, 252, 121, 0.8)',
                    'rgba(255, 236, 210, 0.8)',
                    'rgba(224, 195, 252, 0.8)'
                ];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                
                // Show time orb animation
                const timeOrb = document.getElementById('timeOrb');
                timeOrb.style.opacity = '1';
                timeOrb.style.boxShadow = `0 0 15px ${randomColor}`;
                
                // First transform paper to orb
                setTimeout(() => {
                    timeOrb.classList.add('transform-animation');
                    
                    // After transformation, drop into tunnel
                    setTimeout(() => {
                        timeOrb.classList.remove('transform-animation');
                        timeOrb.classList.add('drop-animation');
                        
                        // Show success message after animation
                        setTimeout(() => {
                            document.getElementById('capsuleId').textContent = formData.id;
                            document.getElementById('successMessage').style.display = 'flex';
                            createConfetti();
                            
                            // Add the new orb as a permanent floating capsule
                            const newCapsule = document.createElement('div');
                            newCapsule.className = 'capsule floating';
                            newCapsule.style.background = `radial-gradient(circle at center, white 0%, ${randomColor} 100%)`;
                            newCapsule.style.top = '50%';
                            newCapsule.style.left = '50%';
                            newCapsule.style.transform = 'translate(-50%, -50%)';
                            newCapsule.style.animationDelay = `-${Math.random() * 12}s`;
                            document.querySelector('.globe').appendChild(newCapsule);
                            
                            // Reset form and animations
                            form.reset();
                            document.getElementById('currentDate').value = formattedDate;
                            timeOrb.style.opacity = '0';
                            timeOrb.classList.remove('drop-animation');
                            timeOrb.style.top = '-50px';
                            submitBtn.disabled = false;
                            submitBtn.textContent = '提交我的時光紙';
                            
                            // In a real application, you would send formData to your server here
                            console.log('Form data to be sent to server:', formData);
                            fetch('https://script.google.com/macros/library/d/1zoCNBP5qMMwm87R_i7AivRLpdbw7B4kyivLJGtanhOHs2LyKjdqYLDlZ/8/exec', {
                             method: 'POST',
                             headers: { 'Content-Type': 'application/json' },
                             body: JSON.stringify(formData)
                             })
                             .then(res => res.json())
                             .then(response => {
                              console.log("成功送出到 Google Sheet", response);
                              })
                              .catch(err => {
                               console.error("送出失敗", err);
                              });

                        }, 2000);
                    }, 1500);
                }, 500);
            });
            
            // Close success message
            document.getElementById('closeSuccessBtn').addEventListener('click', function() {
                document.getElementById('successMessage').style.display = 'none';
            });
            
            // Generate a unique capsule ID
            function generateCapsuleId() {
                const date = new Date();
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
                return `TM-${year}${month}${day}-${random}`;
            }
            
            // Create time particles
            function createTimeParticles() {
                const particlesContainer = document.getElementById('timeParticles');
                
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    // Random position around the center
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 80 + 20;
                    const x = Math.cos(angle) * distance;
                    const y = Math.sin(angle) * distance;
                    
                    particle.style.left = `calc(50% + ${x}px)`;
                    particle.style.top = `calc(50% + ${y}px)`;
                    
                    // Random delay
                    particle.style.animationDelay = `${Math.random() * 8}s`;
                    
                    particlesContainer.appendChild(particle);
                }
            }
            
            // Create confetti effect
            function createConfetti() {
                const confettiContainer = document.getElementById('successMessage');
                const colors = ['#ff6b6b', '#4ecdc4', '#ffcc5c', '#ff9a9e', '#a1c4fd'];
                
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    confetti.style.opacity = '1';
                    confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s forwards`;
                    
                    confettiContainer.appendChild(confetti);
                    
                    // Remove confetti after animation
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
            }
        });
    </script>
</body>
</html>
